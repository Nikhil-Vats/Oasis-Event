<!DOCTYPE html>
<html lang="en" >

<head>
    <meta charset="UTF-8">  
    <title>Far Out Diaries: Chapter 5</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="icon" type="image/png" href="favicon.png" sizes="64x64" />
    <link href="css/loader.css" type="text/css" rel="stylesheet" />
    <link href="css/style.css" type="text/css" rel="stylesheet" />
    <script src="https://www.gstatic.com/firebasejs/5.4.1/firebase.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>  
    <link rel="stylesheet" href="css/path.css">
    <style>
        .top_nav {
            position: absolute;
            top: 0;
            left: 0;
            background: transparent;
            z-index: 2100;
        }
        #loading {
            transition-duration: 0.1s;
            transition-delay: 0s;
        }
    </style>    
</head>

<body>
        <div id="loading">
                <div id="particles-background" style="background-image: linear-gradient(-225deg, #473B7B 0%, #3584A7 51%, #30D2BE 100%);" class="vertical-centered-box"></div>
                <div id="particles-foreground" class="vertical-centered-box"></div>
                
                <div class="vertical-centered-box">
                    <div class="content">
                    <div class="loader-circle"></div>
                    <div class="loader-line-mask">
                        <div class="loader-line"></div>
                    </div>
                    <img src="images/favicon.png" width="36" height="36" id="prism-logo">
                    </div>
                </div>            
            </div>
            <div id="warning-message">
                <img src="./images/rotate.svg">
            </div>
            <!-- <div id="wrapper" style="display: block;opacity: 1;"> -->
            <div class="fetching" style="display:none;z-index: 2100;padding-top: 15vh;">
                    <p>Hang in there, we are fetching data....</p>
            </div>
            <div class="status" style="position: absolute;left: 0;top: 12vh;z-index: 4000;display: none;">
                    Sorry you are not eligible for this round!
            </div>
             <!--<div class="container" style="display:block;background: transparent;z-index: 30"> -->
                <div id="app" style="display: none;">
                    <div id="score"></div>
                    <svg id="svg"></svg>
                    
                    <div id="launch-screen" class="is-visible">
                        <div class="top_nav" style="background: transparent;">
                                <div id="fest_icon"><img id="fest_img" src="images/favicon.png" onclick="showSidenav()"></div>
                                <div class="round_name" id="ch2">Chapter 5: The path to success!</div>
                                <div class="score2">Your Score: <span id="y_score">0</span></div>
                                <div id="instructions_btn"><img onclick="toggleInstructions()" src="./images/instructions.svg"/></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
                        </div>
                        <div id="launch-screen-content">
                        <h1 id="launch-screen__title"></h1>
                        <p id="launch-screen__description"></p>
                        <button class="btn" id="start-btn">PLAY</button>
                        <a id="chapter-button" style="display:none;min-width: 60vw;height: 2.7vh;"onclick="nextChapter(6)">Save your score and See your position!</a>
                        </div>
                    </div>
                </div>
            <!-- </div> -->
            <div id="stats">
                <p>Your score for this chapter is: <span id="game-over-score"></span></p>
                <!-- <p>Please wait while we save your score.</p> -->
            </div>
            <div id="Score"></div> 
            <div class="instructions">
                    <img id="close_btn" onclick="toggleInstructions()" src="./images/close.svg">
                    <p class="heading">Instructions</p>
                    <p class="round_instruct">Chapter 5 - The path to success!</p>
                    <p class="round_descrip">
                       In this round, you have to join closest dots in each sub-chapter or level, your FINAL SCORE FOR THIS CHAPTER  
                       will be your score upto the level before the level on which your game ends. For each correctly joined dot,
                       10 points are given!
                    </p>
                    <p class="round_instruct">Other Information - </p>
                    <p class="round_descrip">
                        Your final score will be the total of your scores in each chapter.
                    </p>
                    <p class="round_descrip">
                        The score shown on each chapter's page is the sum of scores of previous chapter.
                    </p>
                    <p class="round_descrip">
                            The score shown on each chapter's page is the sum of scores of previous chapter. Final score and latest 
                            ranking can be seen on the results page at any time.
                    </p>
                    <p class="round_descrip">
                            The top players as on 27th October 2018, 12:00AM will get to play the VR game on Oculus Rift developed by Coding
                            Club.
                    </p>
                </div>
                <div id="close" onclick="closeSidenav()">
                    <div id="close_div"></div>
                </div> 
                <div id="sidenav">
                <div id="sidenav_bg1">
                </div>
                <div id="sidenav_content">
                    <ul id="list">
                        <a href="./chapter_1.html" class="link"><li>Chapter 1</li></a>
                        <a href="./chapter_2.html" class="link"><li>Chapter 2</li></a>
                        <a href="./chapter_3.html" class="link"><li>Chapter 3</li></a>
                        <a href="./chapter_4.html" class="link"><li>Chapter 4</li></a>
                        <a href="./chapter_5.html" class="link"><li style="color: #4dd0e1;
                            text-shadow: 0 0 5px #4dd0e1, 0 0 10px #4dd0e1, 0 0 20px #4dd0e1, 0 0 30px #4dd0e1, 0 0 40px #4dd0e1, 0 0 55px #4dd0e1, 0 0 75px #4dd0e1;">Chapter 5</li></a>
                        <a href="./results.html" class="link"><li>Results</li></a>
                        <a href="./developers.html" class="link"><li style="color: #4dd0e1;
                            text-shadow: 0 0 5px #4dd0e1, 0 0 10px #4dd0e1, 0 0 20px #4dd0e1, 0 0 30px #4dd0e1, 0 0 40px #4dd0e1, 0 0 55px #4dd0e1, 0 0 75px #4dd0e1;">Developers</li></a>
                    </ul>
                </div>
                <div id="sidenav_bg2">
                </div>
                </div>
                <script>
                        const ch_status = 5;
                    </script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-auth.js"></script>
    <script src="./js/firebase.js" type="text/javascript"></script>
    <!-- <script src="./js/auth.js" type="text/javascript"></script> -->
    <script src="./js/sidenav.js" type="text/javascript"></script>
    <script  src="js/nextChapter.js"></script>
    <script  src="js/loader.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src="./js/path.js"></script>
    <script>
        var show = 0;
        function toggleInstructions() {
            instrucDiv = document.getElementsByClassName('instructions')[0];
            if(!show) {
                instrucDiv.style.transform = 'scale(1)';
                show = 1;
            }
            else {
                instrucDiv.style.transform = 'scale(0)';
                show = 0;
            }    
        }
        var loaded = false;
        window.onload = function () {
            loaded = true;
        }
        var elapsed = true;
        setTimeout(function () {
            if(loaded && elapsed) {
                hideLoader();
            }
            else {
                showOnload();
            }
        }, 4000); 
        function showOnload() {
            if(document.readyState === "complete") {
                document.getElementById('loading').style.display = 'none';
                document.getElementsByClassName('fetching')[0].style.display = 'block';
                document.getElementById('app').style.transition = '0.2s ease-in-out';
                document.getElementById('app').style.display = 'block';
            }
            else {
                window.onload = function () {
                document.getElementById('loading').style.display = 'none';
                document.getElementsByClassName('fetching')[0].style.display = 'block';
                document.getElementById('app').style.transition = '0.2s ease-in-out';
                document.getElementById('app').style.display = 'block';
                }
            }
        }
        function hideLoader() {
            document.getElementById('loading').style.display = 'none';
            document.getElementsByClassName('fetching')[0].style.display = 'block';
            document.getElementById('app').style.transition = '0.2s ease-in-out';
            document.getElementById('app').style.opacity = '1';
            document.getElementById('app').style.display = 'block';
        }
        $(window).resize(function(){
            var viewportHeight = $(window).height();
            $('#particles-foreground').css({ height: viewportHeight });
        });
        checkState();
        checkStatus(5);
    </script>
</body>
</html>    

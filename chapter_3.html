<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Far Out Diaries: Chapter 3</title>
  <link rel="icon" type="image/png" href="favicon.png" sizes="64x64" />
      <link href="css/loader.css" type="text/css" rel="stylesheet" id="loader1"/>
      <link rel="stylesheet" href="./css/sort.css">
      <link rel="stylesheet" href="./css/style.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <style>
          #list li {
              width: 13vw;
          }
          #close, .closed {
              width: 3vw;
              height: 3vw;
          }
      </style>
</head>

<body>
    <div id="loading">
        <div id="particles-background" style="background-image: linear-gradient(-225deg, #FF3CAC 0%, #562B7C 52%, #2B86C5 100%);" class="vertical-centered-box"></div>
        <div id="particles-foreground" class="vertical-centered-box"></div>
        
        <div class="vertical-centered-box">
            <div class="content">
            <div class="loader-circle"></div>
            <div class="loader-line-mask">
                <div class="loader-line"></div>
            </div>
            <img src="images/favicon.png" width="36" height="36" id="prism-logo">
            </div>
        </div>            
    </div>
    <div id="warning-message">
      <img src="./images/rotate.svg">
    </div>
    <div id="wrapper">
    <div class="top_nav" style="background: #000019;">
        <div id="fest_icon2"><img id="fest_img" src="images/favicon.png" onclick="showSidenav()"></div>
        <div class="round_name">Chapter 3: The Dot and Colour!</div>
        <div class="score2">Your Score: <span id="y_score">-</span></div>
        <div id="instructions_btn"><img onclick="toggleInstructions()" src="./images/instructions.svg"/></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
    </div>
    <div class="fetching">
            <p>Hang in there, we are fetching data....</p>
    </div>
    <div class="status" id="launch-screen-title" style="position: absolute;left: 0;top: 12vh;z-index: 4000;background-color: #000019;">
            Sorry you are not eligible for this round!
    </div>
  <svg style="display:none;">

    <symbol version="1.1" id="star" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 49.94 49.94" style="enable-background:new 0 0 49.94 49.94;" xml:space="preserve">
<path d="M48.856,22.73c0.983-0.958,1.33-2.364,0.906-3.671c-0.425-1.307-1.532-2.24-2.892-2.438l-12.092-1.757
	c-0.515-0.075-0.96-0.398-1.19-0.865L28.182,3.043c-0.607-1.231-1.839-1.996-3.212-1.996c-1.372,0-2.604,0.765-3.211,1.996
	L16.352,14c-0.23,0.467-0.676,0.79-1.191,0.865L3.069,16.622c-1.359,0.197-2.467,1.131-2.892,2.438
	c-0.424,1.307-0.077,2.713,0.906,3.671l8.749,8.528c0.373,0.364,0.544,0.888,0.456,1.4L8.224,44.701
	c-0.183,1.06,0.095,2.091,0.781,2.904c1.066,1.267,2.927,1.653,4.415,0.871l10.814-5.686c0.452-0.237,1.021-0.235,1.472,0
	l10.815,5.686c0.526,0.277,1.087,0.417,1.666,0.417c1.057,0,2.059-0.47,2.748-1.288c0.687-0.813,0.964-1.846,0.781-2.904
	l-2.065-12.042c-0.088-0.513,0.083-1.036,0.456-1.4L48.856,22.73z"/>
    </symbol>

    <symbol id="circle" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
       width="438.533px" height="438.533px" viewBox="0 0 438.533 438.533" style="enable-background:new 0 0 438.533 438.533;"
       xml:space="preserve">
  <g>
      <path d="M409.133,109.203c-19.608-33.592-46.205-60.189-79.798-79.796C295.736,9.801,259.058,0,219.273,0
          c-39.781,0-76.47,9.801-110.063,29.407c-33.595,19.604-60.192,46.201-79.8,79.796C9.801,142.8,0,179.489,0,219.267
          c0,39.78,9.804,76.463,29.407,110.062c19.607,33.592,46.204,60.189,79.799,79.798c33.597,19.605,70.283,29.407,110.063,29.407
          s76.47-9.802,110.065-29.407c33.593-19.602,60.189-46.206,79.795-79.798c19.603-33.596,29.403-70.284,29.403-110.062
          C438.533,179.485,428.732,142.795,409.133,109.203z"/>
  </g>
  </symbol>

  <symbol id="heart" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
       width="176.104px" height="176.104px" viewBox="0 0 176.104 176.104" style="enable-background:new 0 0 176.104 176.104;"
       xml:space="preserve">
  <g>
      <g>
          <path d="M150.383,18.301c-7.13-3.928-15.308-6.187-24.033-6.187c-15.394,0-29.18,7.015-38.283,18.015
              c-9.146-11-22.919-18.015-38.334-18.015c-8.704,0-16.867,2.259-24.013,6.187C10.388,26.792,0,43.117,0,61.878
              C0,67.249,0.874,72.4,2.457,77.219c8.537,38.374,85.61,86.771,85.61,86.771s77.022-48.396,85.571-86.771
              c1.583-4.819,2.466-9.977,2.466-15.341C176.104,43.124,165.716,26.804,150.383,18.301z"/>
      </g>
  </g>
  </symbol>

  <symbol version="1.1" id="square" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="438.536px" height="438.536px" viewBox="0 0 438.536 438.536" style="enable-background:new 0 0 438.536 438.536;"
	 xml:space="preserve">
<g>
	<path d="M414.41,24.123C398.333,8.042,378.963,0,356.315,0H82.228C59.58,0,40.21,8.042,24.126,24.123
		C8.045,40.207,0.003,59.576,0.003,82.225v274.084c0,22.647,8.042,42.018,24.123,58.102c16.084,16.084,35.454,24.126,58.102,24.126
		h274.084c22.648,0,42.018-8.042,58.095-24.126c16.084-16.084,24.126-35.454,24.126-58.102V82.225
		C438.532,59.576,430.49,40.204,414.41,24.123z"/>
</g>
</symbol>

  <symbol id="triangle" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 382.365 382.365" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 382.365 382.365">
    <g>
      <path d="m378.248,312.399l-162.38-271.915c-5.239-8.774-14.468-14.011-24.686-14.011s-19.446,5.237-24.685,14.011l-162.379,271.915c-5.375,8.999-5.494,19.815-0.32,28.932s14.522,14.561 25.005,14.561h324.76c10.482,0 19.831-5.443 25.005-14.561 5.174-9.116 5.054-19.932-0.32-28.932z"/>
    </g>
  </symbol>

    <symbol version="1.1" id="cancel" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 49.498 49.498" style="enable-background:new 0 0 49.498 49.498;" xml:space="preserve">
<g>
	<path style="fill: white;" d="M0,9.899L9.899,0l14.849,14.849L39.597,0.001l9.9,9.899L34.648,24.753l14.85,14.844l-9.9,9.9
		l-14.849-14.85L9.9,49.498l-9.899-9.9l14.848-14.844L0,9.899z"/>
</g>
</symbol>

    <symbol version="1.1" id="restart" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 14.155 14.155" style="enable-background:new 0 0 14.155 14.155;" xml:space="preserve">
<g>
	<path d="M12.083,1.887c-0.795-0.794-1.73-1.359-2.727-1.697v2.135c0.48,0.239,0.935,0.55,1.334,0.95
		c1.993,1.994,1.993,5.236,0,7.229c-1.993,1.99-5.233,1.99-7.229,0c-1.991-1.995-1.991-5.235,0-7.229
		C3.466,3.269,3.482,3.259,3.489,3.25h0.002l1.181,1.179L4.665,0.685L0.923,0.68l1.176,1.176C2.092,1.868,2.081,1.88,2.072,1.887
		c-2.763,2.762-2.763,7.243,0,10.005c2.767,2.765,7.245,2.765,10.011,0C14.844,9.13,14.847,4.649,12.083,1.887z"/>
</g>
</symbol>

  </svg>

  <main>

    <div class="menu" id="menu" style="display: none;">
        <div class="menu__content">
          <!-- <h1>Rapid Sorting Game</h1> -->
          <h2>How to play :</h2>
          <ul>
            <li>Remember card (shape and color)</li>
            <li>Compare the current card with previous one</li>
            <li>There are two cases:</li>
            <ol>
              <li>The current shape has a dot in the center: comparative attribute is color</li>
              <li>The current shape HASN'T a dot in the center: comparative attribute is shape</li>
            </ol>
            <li>Same attribute: swipe the same direction</li>
            <li>Different attribute: swipe opposite direction</li>
            <li>First card: swipe any direction</li>
          </ul>
          <h2>Controls :</h2>
          <ul>
            <li>Mouse / Touch swipe or keyboard arrows</li>
          </ul>
          <button id="start-button" class="button" type="button">Start</button>
        </div>
    </div>

    <div class="game-over" id="game-over">
       <div class="game-over__content">
         <p class="game-over__score-text">Your score for this chapter : <span class="game-over__score" id="game-over-score">0</span></p>
         <div class="score-scale">
            <div class="score-scale__scale">
              <div class="score-scale__correct-number" id="correct-number">15</div>
              <div class="score-scale__incorrect-number" id="incorrect-number">2</div>
              <div class="score-scale__scale-correct" id="correct-scale"></div>
            </div>
         </div>
         <p class="game-over__comparing" style="display:none;">You scored higher than <span id="comparing-percent">0%</span> of people</p>
         <!-- <p id="your_score">Your score for this chapter is <span id="c_score">  </span></p> -->
         <button class="button" type="button" onclick="nextChapter(4)">Next Chapter</button>
         <!-- <button id="restart-button" class="button" type="button">Again</button> -->
       </div>
    </div>

    <div class="game-scene" id="game-scene">
      <div class="restart-button" id="restart-button-in-game">
        <svg viewBox="0 0 32 32">
          <use xlink:href="#restart"></use>
        </svg>
      </div>
      <div class="start-timer" id="start-timer-wrapper">
        <div class="start-timer__value" id="start-timer">3</div>
      </div>
      <div class="gradient" id="gradient">
        <div class="gradient__item" style="background: radial-gradient(circle, white, #373737 90%);"></div>
      </div>
      <div class="separator" id="separator">
        <div class="separator__wrapper">
          <div class="separator__line"></div>
        </div>
        <div class="separator__side separator__side--left"></div>
        <div class="separator__side separator__side--right"></div>
      </div>
      <div class="score">
        <div class="score__volume">00000</div>
        <div class="score__slider" id="score">
          <div class="score__item">
            <div class="score__digit active">0</div>
          </div>
        </div>
      </div>
      <div class="fail">
        <div class="fail__icon" id="fail">
          <svg viewBox="0 0 32 32">
            <use xlink:href="#cancel"></use>
          </svg>
        </div>
      </div>
      <div class="timer" id="timer">30</div>
      <div class="slider" id="slider"></div>
      <div class="bonus" id="bonus">
        <div class="bonus__circle">
          <div class="bonus__content">
            <p class="bonus__factor" id="bonus-factor">x2</p>
          </div>
        </div>
      </div>
    </div>

  </main>
  <div class="instructions">
      <img id="close_btn" onclick="toggleInstructions()" src="./images/close.svg">
      <p class="heading">Instructions</p>
      <p class="round_instruct">Chapter 3 - The Dot and colour!</p>
      <p class="round_descrip">
        <h2>How to play :</h2>
        <ul>
          <li>Remember card (shape and color)</li>
          <li>Compare the current card with previous one</li>
          <li>There are two cases:</li>
          <ol>
            <li>The shape has a dot in the center: compare color, if same as previous one, swipe in same direction as previous, if not then opposite</li>
            <li>The current shape does not have a dot in the center: compare shape, if same as previous one, swipe in same direction as previous, if not then opposite</li>
          </ol>
          <li>First card: swipe any direction</li>
      </p>
      <p class="round_descrip">
            Points if swiped in the correct direction : 50
      </p>
      <p class="round_descrip">
            Points if swiped in the wrong direction : -25
      </p>
      <p class="round_instruct">Other Information - </p>
      <p class="round_descrip">
          Your final score will be the total of your scores in each chapter.
      </p>
      <p class="round_descrip">
          The score shown on each chapter's page is the sum of scores of previous chapter.
      </p>
      <p class="round_descrip">
            The score shown on each chapter's page is the sum of scores of previous chapter. Final score and latest 
            ranking can be seen on the results page at any time.
      </p>
      <p class="round_descrip">
            The top players as on 27th October 2018, 12:00AM will get to play the VR game on Oculus Rift developed by Coding
            Club.
      </p>
  </div>

  <div id="close" class="closed" onclick="closeSidenav()">
      <div id="close_div2"></div>
  </div> 
  <div id="sidenav">
  <div id="sidenav_bg1">
  </div>
  <div id="sidenav_content">
    <ul id="list">
        <a href="./chapter_1.html" class="link"><li>Chapter 1</li></a>
        <a href="./chapter_2.html" class="link"><li>Chapter 2</li></a>
        <a href="./chapter_3.html" class="link"><li style="color: #4dd0e1;
            text-shadow: 0 0 5px #4dd0e1, 0 0 10px #4dd0e1, 0 0 20px #4dd0e1, 0 0 30px #4dd0e1, 0 0 40px #4dd0e1, 0 0 55px #4dd0e1, 0 0 75px #4dd0e1;">Chapter 3</li></a>
        <a href="./chapter_4.html" class="link"><li>Chapter 4</li></a>
        <a href="./chapter_5.html" class="link"><li>Chapter 5</li></a>
        <a href="./results.html" class="link"><li>Results</li></a>
        <a href="./developers.html" class="link"><li style="color: #4dd0e1;
            text-shadow: 0 0 5px #4dd0e1, 0 0 10px #4dd0e1, 0 0 20px #4dd0e1, 0 0 30px #4dd0e1, 0 0 40px #4dd0e1, 0 0 55px #4dd0e1, 0 0 75px #4dd0e1;">Developers</li></a>
    </ul>
</div>
  <div id="sidenav_bg2">
  </div>
  </div>
</div>
    <script>
        const ch_status = 3;
    </script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-auth.js"></script> 
    <script src="./js/firebase.js" type="text/javascript"></script>
    <script  src="js/nextChapter.js"></script>
    <!-- <script src="./js/auth.js" type="text/javascript"></script> -->
    <script src="./js/sidenav.js" type="text/javascript"></script>
    <script  src="./js/loader.js"></script>
    
    <script>
        var show2 = 0;
        function toggleInstructions() {
            instrucDiv = document.getElementsByClassName('instructions')[0];
            if(!show2) {
                instrucDiv.style.transform = 'scale(1)';
                show2 = 1;
            }
            else {
                instrucDiv.style.transform = 'scale(0)';
                show2 = 0;
            }    
        }
        var loaded = false;
        window.onload = function () {
            loaded = true;
        }
        var elapsed = true;
        setTimeout(function () {
            if(loaded && elapsed) {
                hideLoader();
            }
            else {
                showOnload();
            }
        }, 4000); 
        function showOnload() {
            // alert(4);
            if(document.readyState === "complete") {
            
                // alert(2);
                document.getElementById('loading').style.opacity = '0';
                document.getElementById('loading').style.transition = '0.3s ease-in-out';
                document.getElementById('loading').style.display = 'none';
                document.getElementById('wrapper').style.opacity = '1';
                document.getElementById('wrapper').style.display = 'block';
                $("#loader1").attr("disabled", "disabled");
            }
            else {
                window.onload = function () {
                document.getElementById('loading').style.opacity = '0';
                document.getElementById('loading').style.transition = '0.3s ease-in-out';
                document.getElementById('loading').style.display = 'none';
                document.getElementById('wrapper').style.opacity = '1';
                document.getElementById('wrapper').style.display = 'block';
                $("#loader1").attr("disabled", "disabled");
                }
            }
        }
        function hideLoader() {
            // alert(2);
            document.getElementById('loading').style.opacity = '0';
            document.getElementById('loading').style.transition = '0.3s ease-in-out';
            document.getElementById('loading').style.display = 'none';
            document.getElementById('wrapper').style.opacity = '1';
            document.getElementById('wrapper').style.display = 'block';
            $("#loader1").attr("disabled", "disabled");
        }
        $(window).resize(function(){
            var viewportHeight = $(window).height();
            $('#particles-foreground').css({ height: viewportHeight });
        });
        checkState();
        checkStatus(3);
    </script>
    <script  src="js/index.js"></script>
</body>

</html>
